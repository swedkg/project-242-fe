<mat-sidenav-container hasBackdrop="false">
  <mat-sidenav #requests mode="over" [(opened)]="isSidenavOpen">
    <div class="user-actions">
      <button
        mat-button
        class="material-icons-outlined menu-icon"
        (click)="toggleRequestSidenav()"
      >
        <p class="material-icons-outlined">menu_open</p>
      </button>
      <app-user-panel></app-user-panel>
    </div>
    <mat-tab-group
      selectedIndex="{{ activeTab }}"
      (selectedIndexChange)="indexChanged($event)"
    >
      <mat-tab>
        <ng-template mat-tab-label>
          <p class="material-icons-outlined">apps</p>
          <span
            class="tab-label"
            matBadge="{{ notificationsAllBadge }}"
            matBadgeHidden="{{ matBadgeHiddenAllNots }}"
            matBadgeOverlap="true"
            matBadgeColor="warn"
          >
            All {{ matBadgeHiddenAllNots }}
          </span></ng-template
        >
        <app-all-requests></app-all-requests
      ></mat-tab>
      <mat-tab>
        <ng-template mat-tab-label>
          <p class="material-icons-outlined">emoji_people</p>
          <span
            class="tab-label"
            matBadge="1"
            matBadgeOverlap="true"
            matBadgeColor="warn"
            >Volunteered
          </span></ng-template
        ><app-my-responses></app-my-responses
      ></mat-tab>
      <mat-tab
        ><ng-template mat-tab-label>
          <p class="material-icons-outlined">home_work</p>
          <span
            class="tab-label"
            matBadge="2"
            matBadgeOverlap="true"
            matBadgeColor="warn"
            >My Requests
          </span></ng-template
        ><app-my-requests></app-my-requests
      ></mat-tab>
    </mat-tab-group>
    <app-chat *ngIf="showMessages"></app-chat>
  </mat-sidenav>

  <mat-sidenav-content>
    <button
      mat-button
      disabled="{{ !isLoggedIn }}"
      class="material-icons-outlined menu-icon"
      style="z-index: 1;"
      (click)="toggleRequestSidenav()"
    >
      <p class="material-icons-outlined">menu</p>
    </button>
    <app-layout></app-layout>
  </mat-sidenav-content>
</mat-sidenav-container>
